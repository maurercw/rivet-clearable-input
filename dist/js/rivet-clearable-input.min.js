/*!
 * rivet-clearable-input - @version 0.5.0
 * (c) 2024, The Trustees of Indiana University | BSD-3-Clause License
 * https://github.com/maurercw/rivet-clearable-input
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ClearableInput={})}(this,function(t){"use strict";function e(t){(t=t.target).classList.contains("buttonX")&&(t=t.getAttribute(i),r(document.getElementById(t)))}function n(t){var e;(t=t.target).classList.contains("rvt-clearable-input")&&(e=s(t),d(t),0<t.value.length?(t.classList.add("has-data"),e.removeAttribute("hidden")):(t.classList.remove("has-data"),e.setAttribute("hidden","")))}var i="data-clearable",a='<span class="rvt-sr-only">Clear input</span><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g fill="currentColor"><path d="M8,0a8,8,0,1,0,8,8A8,8,0,0,0,8,0ZM8,14a6,6,0,1,1,6-6A6,6,0,0,1,8,14Z"/><path d="M10.83,5.17a1,1,0,0,0-1.41,0L8,6.59,6.59,5.17A1,1,0,0,0,5.17,6.59L6.59,8,5.17,9.41a1,1,0,1,0,1.41,1.41L8,9.41l1.41,1.41a1,1,0,0,0,1.41-1.41L9.41,8l1.41-1.41A1,1,0,0,0,10.83,5.17Z"/></g></svg>',r=function(t){t.classList.remove("has-data"),t.value="",t.focus();s(t).setAttribute("hidden","");var e=d(t),n=e.textContent,i="Input cleared",a=(e.textContent=n==i?"Input cleared.":i,t),e="inputCleared";e=new CustomEvent(e,{bubbles:!0,detail:{name:function(){return a.id}}}),a.dispatchEvent(e)},s=function(t){var e="button_"+t.id,n=document.getElementById(e);return n||((n=document.createElement("button")).type="button",n.setAttribute(i,t.id),n.classList.add("buttonX"),n.innerHTML=a,n.id=e,t.parentNode.insertBefore(n,t.nextSibling)),n},d=function(t){var e="sr-alert-"+t.id,n=document.getElementById(e);return n||((n=document.createElement("span")).id=e,n.classList.add("rvt-sr-only"),n.setAttribute("aria-live","polite"),t.parentNode.insertBefore(n,t.nextSibling)),n};t.clearInput=r,t.destroy=function(t){(t=void 0===t?document:t).removeEventListener("click",e,!1),t.removeEventListener("input",n,!1)},t.init=function(t){(t=void 0===t?document:t).addEventListener("click",e,!1),t.addEventListener("input",n,!1)}});